<!DOCTYPE html>
<html>
<head>
  <title>Upload Cover & PDF</title>
</head>
<body>
  <h2>ðŸ“¤ Upload Cover & PDF to Cloudinary</h2>

  <label>Cover Image:</label>
  <input type="file" id="coverImage"><br><br>

  <label>PDF Book:</label>
  <input type="file" id="pdfBook"><br><br>

  <button onclick="uploadBoth()">Upload</button>

  <pre id="result"></pre>

  <script>
    const cloudName = "dasbxk3b7"; // your Cloudinary cloud name
    const uploadPreset = "virtual_library_uploads"; // your unsigned preset
    const folder = "All_books"; // your folder name

    async function uploadFile(file, resourceType = "image") {
      const url = `https://api.cloudinary.com/v1_1/${cloudName}/${resourceType}/upload`;

      const formData = new FormData();
      formData.append("file", file);
      formData.append("upload_preset", uploadPreset);
      formData.append("folder", folder);

      const res = await fetch(url, {
        method: "POST",
        body: formData,
      });

      const data = await res.json();
      return data.secure_url;
    }

    async function uploadBoth() {
      const coverFile = document.getElementById("coverImage").files[0];
      const pdfFile = document.getElementById("pdfBook").files[0];
      const resultEl = document.getElementById("result");

      if (!coverFile || !pdfFile) {
        alert("Please select both files.");
        return;
      }

      resultEl.textContent = "Uploading...";

      try {
        const coverUrl = await uploadFile(coverFile, "image");
        const pdfUrl = await uploadFile(pdfFile, "raw");

        resultEl.textContent = JSON.stringify({
          coverImageURL: coverUrl,
          pdfBookURL: pdfUrl
        }, null, 2);
      } catch (err) {
        console.error("Upload error:", err);
        resultEl.textContent = "Upload failed:\n" + err.message;
      }
    }
  </script>
</body>
</html>





